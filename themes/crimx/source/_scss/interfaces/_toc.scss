/*------------------------------------*\
    #TOC
\*------------------------------------*/

// 目录
// 基于 type.css V1.1.0

// scss-lint:disable PropertySpelling

$toc-font-size:       $global-font-size !default;
$toc-line-height:     $global-line-height !default;

// --------------------------------------------------------------------------
//  ol 自动生成编号
// --------------------------------------------------------------------------

// 数字编号，兼容 IE8+
// 通常用来生成一个目录，为了更好的语义，只支持 ol。
// @demo: http://jsbin.com/IpIPinu/3/edit?css,output
// 使用方法：
// <ol class='type-toc'>...</ol>
// 将会生成如下格式编号：
//       1.
//       1.1
//       1.1.1
//       ...
//
// 1. 为每个 ol 元素创建新的计数器实例
// 2. 隐藏默认的列表项

// 避免目录中的标题影响正文编号需添加
// %#{$global-namespace}post %#{$global-namespace}toc {
//   h2, h3, h4 {
//     &:before {
//       content: none;
//     }
//   }
// }

%toc {
  font-size: $toc-font-size;
  line-height: $toc-line-height;
  margin: 1.14em auto;
  overflow: hidden;
  background-color: #fff;
  border: 1px solid #eaeaea;

  li {
    overflow: hidden;
    margin-top: 1px;
    white-space: nowrap;
  }

  li a {
    display: block;
    padding-left: .5em;
    overflow: hidden;
    /*border: 0 none;*/
    color: #666;
    /*background-color: #ccc;*/

    &:hover {
      background-color: #f5f5f5;
      border-bottom: 1px solid #e6e6e6;
      border-radius: 0 0 3px 3px;
      color: #3187db;
    }
  }

  h2 {
    border-right: 1px solid #eee;
    padding: 0 1.57em;
    margin-bottom: 1.14em;
    /*float: left;*/
    /*background: #fbfbfb;*/
    /*width: 1em;*/
    line-height: normal;

    padding-bottom: 999em;
    margin-bottom: -999em;
    color: #666;
  }

  > ol {
    overflow: hidden;
    *zoom: 1;
    margin: 0;
    padding: 1.14em 1.43em;
  }

  &.fixed {
    position: fixed;
    left: 100px;
    top: 20px;
  }

  &.fixed h2 {
    font-size: 1.29em;
    float: none;
    width: 100%;
    padding: 6px 16px;
    margin: 0;
  }

  &.fixed h2 + ol {
    padding-left: 0;
  }

  // > ol > li {
  //   display: inline-block;
  //   vertical-align: top;
  // }

  ol ol {
    counter-reset: list;/* 1 */
    list-style-type: none !important; /* 2 */
    *list-style-type: decimal !important;
  }

  li:before {
    color: #666;
    margin-right: .25em;
    padding-left: .5em;
    float: left;

    // 1. 只增加当前计数器(直接设置在 li 上其他列表会影响序号)
    // 2. 所有计数器中间以“.”分隔的值
    counter-increment: list; /* 1 */
    content: counters(list, '.')' '; /* 2 */
  }

  // ol 中的 ul 不生成序号
  ul {
    list-style-type: square;
    list-style-position: inside;

    li:before {
      content: none !important;
    }
  }

  // 去除上下间距
  ol,
  ul {
    margin-top: 0;
    margin-bottom: 8px;
  }

}


